nalu_build_dir=~/nalu
trilinos_install_dir=$nalu_build_dir/install/trilinos
yaml_install_dir=$nalu_build_dir/install/

EXTRA_ARGS=$@

# Cleanup old cache before we configure
# Note:  This does not remove files produced by make.  Use "make clean" for this.
find . -name "CMakeFiles" -exec rm -rf {} \;
rm -f CMakeCache.txt

cmake \
  -DTrilinos_DIR:PATH=$trilinos_install_dir \
  -DYAML_DIR:PATH=$yaml_install_dir \
  -DENABLE_INSTALL:BOOL=OFF \
  -DCMAKE_BUILD_TYPE=DEBUG \
  -DCMAKE_CXX_FLAGS='-std=c++11 -O2 -g -DNDEBUG' \
  -DCMAKE_Fortran_FLAGS='-O2 -g -DNDEBUG' \
  -DCMAKE_C_FLAGS='-std=c++11 -O2 -g -DNDEBUG' \
  -DFAST_DIR:PATH=$nalu_build_dir/packages/fastv8DriverProgram/fastv8 \
  -DFAST_LIBRARY:PATH=FAST_glin64_debug \
  -DFAST_CINTERFACE_LIBRARY:PATH=FAST_cInterface_glin64_debug \
$EXTRA_ARGS \
../
